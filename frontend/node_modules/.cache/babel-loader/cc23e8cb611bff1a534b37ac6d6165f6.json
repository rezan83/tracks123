{"remainingRequest":"/home/rezan/Desktop/Projects/tracks/frontend/node_modules/babel-loader/lib/index.js!/home/rezan/Desktop/Projects/tracks/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/rezan/Desktop/Projects/tracks/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/rezan/Desktop/Projects/tracks/frontend/src/views/Dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/rezan/Desktop/Projects/tracks/frontend/src/views/Dashboard.vue","mtime":1610231508847},{"path":"/home/rezan/Desktop/Projects/tracks/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rezan/Desktop/Projects/tracks/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/rezan/Desktop/Projects/tracks/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rezan/Desktop/Projects/tracks/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9yZXphbi9EZXNrdG9wL1Byb2plY3RzL3RyYWNrcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IFNpZGViYXIgZnJvbSAiQC9jb21wb25lbnRzL1NpZGViYXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRhc2hib2FyZCIsCiAgY29tcG9uZW50czogewogICAgU2lkZWJhcjogU2lkZWJhcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJnZXRDYXJyaWVyRGF0YSJdKSksIHt9LCB7CiAgICAgIGN1cnJlbnRTb3J0OiAnY2Fycmllcl9jb21wYW55X2lkJywKICAgICAgc29ydERlc2M6IHRydWUKICAgIH0pOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsiZmV0Y2hTaGlwbWVudHMiXSkpLCB7fSwgewogICAgc29ydDogZnVuY3Rpb24gc29ydChzKSB7CiAgICAgIGlmIChzID09PSB0aGlzLmN1cnJlbnRTb3J0KSB7CiAgICAgICAgdGhpcy5zb3J0RGVzYyA9ICF0aGlzLnNvcnREZXNjOwogICAgICB9CgogICAgICB0aGlzLmN1cnJlbnRTb3J0ID0gczsKICAgIH0sCiAgICBjYXJyaWVyRGV0YWlsczogZnVuY3Rpb24gY2FycmllckRldGFpbHMoY2FycmllcklkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnQ2FycmllcicsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjYXJyaWVySWQ6IGNhcnJpZXJJZAogICAgICAgIH0KICAgICAgfSk7IC8vIC0+IC9jYXJyaWVyLzEKICAgIH0KICB9KSwKICBjb21wdXRlZDogewogICAgc29ydGVkQ2FycmllckRhdGE6IGZ1bmN0aW9uIHNvcnRlZENhcnJpZXJEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMuZ2V0Q2FycmllckRhdGEoKSkuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHZhciBzb3J0RGlyID0gX3RoaXMuc29ydERlc2MgKiAyIC0gMTsKICAgICAgICByZXR1cm4gKGFbMV1bX3RoaXMuY3VycmVudFNvcnRdIC0gYlsxXVtfdGhpcy5jdXJyZW50U29ydF0pICogc29ydERpcjsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaFNoaXBtZW50cygpOwogIH0KfTs="},{"version":3,"sources":["/home/rezan/Desktop/Projects/tracks/frontend/src/views/Dashboard.vue"],"names":[],"mappings":";;AAgCA,SAAS,UAAT,EAAqB,UAArB,QAAsC,MAAtC;AACA,OAAO,OAAP,MAAoB,sBAApB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,OAAM,EAAN;AADU,GAFC;AAKb,EAAA,IALa,kBAKP;AACJ,2CACK,UAAU,CAAC,CAAC,gBAAD,CAAD,CADf;AAEE,MAAA,WAAW,EAAC,oBAFd;AAGE,MAAA,QAAQ,EAAC;AAHX;AAKD,GAXY;AAYb,EAAA,OAAO,kCACF,UAAU,CAAC,CAAC,gBAAD,CAAD,CADR;AAEL,IAAA,IAFK,gBAEA,CAFA,EAEE;AACL,UAAG,CAAA,KAAM,KAAK,WAAd,EAA2B;AACzB,aAAK,QAAL,GAAgB,CAAC,KAAK,QAAtB;AACF;;AACA,WAAK,WAAL,GAAmB,CAAnB;AACD,KAPI;AAQL,IAAA,cARK,0BAQU,SARV,EAQoB;AACvB,WAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,QAAA,IAAI,EAAE,SAAR;AAAmB,QAAA,MAAM,EAAE;AAAE,UAAA,SAAQ,EAAR;AAAF;AAA3B,OAAlB,EADuB,CACuC;AAChE;AAVK,IAZM;AAwBb,EAAA,QAAQ,EAAE;AACR,IAAA,iBADQ,+BACY;AAAA;;AAClB,aAAO,MAAM,CAAC,OAAP,CAAe,KAAK,cAAL,EAAf,EAAsC,IAAtC,CAA2C,UAAC,CAAD,EAAG,CAAH,EAAS;AACzD,YAAI,OAAM,GAAK,KAAI,CAAC,QAAL,GAAc,CAAd,GAAiB,CAAhC;AACA,eAAO,CAAC,CAAC,CAAC,CAAD,CAAD,CAAK,KAAI,CAAC,WAAV,IAAyB,CAAC,CAAC,CAAD,CAAD,CAAK,KAAI,CAAC,WAAV,CAA1B,IAAoD,OAA3D;AACD,OAHM,CAAP;AAIF;AANQ,GAxBG;AAgCb,EAAA,OAhCa,qBAgCH;AACR,SAAK,cAAL;AACF;AAlCa,CAAf","sourcesContent":["<template>\n  <div class=\"dashboard\">\n    <Sidebar />\n    <div id=\"main-section\">\n\n      <h2>CO2 Analytics</h2>\n\n      <table>\n      <thead>\n        <tr>\n          <th :class=\"{ 'active-sort': (currentSort==='carrier_company_id') }\" @click=\"sort('carrier_company_id')\" ><div><span>Carrier</span> <img class=\"arrow-image\" :class=\"{'descend': sortDesc}\" src=\"../assets/arrow-up.svg\" ></div></th>\n          <th :class=\"{ 'active-sort': (currentSort==='total_co2_emitted') }\" @click=\"sort('total_co2_emitted')\"><div><span>CO2 Emission </span> <img class=\"arrow-image\" :class=\"{'descend': sortDesc}\" src=\"../assets/arrow-up.svg\"></div></th>\n          <th :class=\"{ 'active-sort': (currentSort==='travelled_distance') }\" @click=\"sort('travelled_distance')\"><div><span>Distance </span> <img class=\"arrow-image\" :class=\"{'descend': sortDesc}\" src=\"../assets/arrow-up.svg\" ></div></th>\n          <th :class=\"{ 'active-sort': (currentSort==='av_weight') }\" @click=\"sort('av_weight')\"><div><span>Average weight </span> <img class=\"arrow-image\" :class=\"{'descend': sortDesc}\" src=\"../assets/arrow-up.svg\" ></div></th>\n          <th :class=\"{ 'active-sort': (currentSort==='intencity_factor') }\" @click=\"sort('intencity_factor')\"><div><span>Intensity Factor </span> <img class=\"arrow-image\" :class=\"{'descend': sortDesc}\" src=\"../assets/arrow-up.svg\" ></div></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"data in sortedCarrierData\" :key=\"data[1].carrier_company_id\">\n          <td class=\"carrier-name\" @click=\"carrierDetails(data[1].carrier_company_id)\">{{data[1].carrier_company_id}}</td>\n          <td>{{data[1].total_co2_emitted}}</td>\n          <td>{{data[1].travelled_distance}}</td>\n          <td>{{data[1].av_weight}}</td>\n          <td>{{data[1].intencity_factor}}</td>\n        </tr>\n      </tbody>\n    </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions} from \"vuex\";\nimport Sidebar from \"@/components/Sidebar\";\nexport default {\n  name: \"Dashboard\",\n  components: {\n    Sidebar\n  },\n  data(){\n    return{\n      ...mapGetters([\"getCarrierData\"]),\n      currentSort:'carrier_company_id',\n      sortDesc:true\n    }\n  },\n  methods: {\n    ...mapActions([\"fetchShipments\"]),\n    sort(s){\n      if(s === this.currentSort) {\n        this.sortDesc = !this.sortDesc\n      }\n      this.currentSort = s;\n    },\n    carrierDetails(carrierId){\n      this.$router.push({ name: 'Carrier', params: { carrierId } }) // -> /carrier/1\n    }\n  }, \n  computed: {    \n    sortedCarrierData() {\n      return Object.entries(this.getCarrierData()).sort((a,b) => {\n        let sortDir = (this.sortDesc*2 -1);\n        return (a[1][this.currentSort] - b[1][this.currentSort]) * sortDir\n      });\n    }\n  },\n  created() {\n    this.fetchShipments()\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.dashboard {\n  display: flex;\n\n  #main-section {\n    flex: 4;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin: 10px;\n    table {\n      border-collapse: collapse;\n      width: 100%;\n      color: #fff;\n      border: 0px;\n    }\n    th {\n      background-color: #001A26;\n      color: rgb(207, 205, 205);\n      padding: 10px;\n      min-width: 50px;\n      cursor: pointer;\n      div{\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n      }\n      \n    }\n    .active-sort{\n      background-color: #2f64c7;\n      .arrow-image{\n        visibility: visible;\n      }\n    }\n    .arrow-image{\n      max-width: 15px;\n      visibility: hidden;\n    }\n    .descend{\n      transform: rotate(180deg);\n    }\n    tr{\n      background-color: #42b1b9;\n      &:hover{\n        opacity: 0.8;\n      }\n      .carrier-name{\n        cursor: pointer;\n        &:hover{\n          background-color: #2f64c7\n        }\n      }\n      td{\n        padding: 10px;\n      }\n    }\n    \n  }\n}\nh3 {\n  margin: 40px 0 0;\n}\n\n</style>\n"],"sourceRoot":""}]}