{"remainingRequest":"/home/rezan/Desktop/Projects/tracks/frontend/node_modules/babel-loader/lib/index.js!/home/rezan/Desktop/Projects/tracks/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/rezan/Desktop/Projects/tracks/frontend/src/store/shipments.js","dependencies":[{"path":"/home/rezan/Desktop/Projects/tracks/frontend/src/store/shipments.js","mtime":1610222510870},{"path":"/home/rezan/Desktop/Projects/tracks/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rezan/Desktop/Projects/tracks/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/rezan/Desktop/Projects/tracks/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IF9ncm91cFNoaXBtZW50cywgX2ZpbHRlckdyb3VwZWQsIF9wcmVwYXJlQ2FycmllckRhdGEsIF9kZWZhdWx0VGltZXMgfSBmcm9tICIuLi9oZWxwZXJzIjsKCnZhciBfZGVmYXVsdFRpbWVzMiA9IF9kZWZhdWx0VGltZXMoKSwKICAgIGRlZmF1bHRTdGFydCA9IF9kZWZhdWx0VGltZXMyLmRlZmF1bHRTdGFydCwKICAgIGRlZmF1bHRFbmQgPSBfZGVmYXVsdFRpbWVzMi5kZWZhdWx0RW5kOwoKdmFyIGRlZmF1bHRGaWx0ZXJzID0gewogIHR5cGVfb2ZfY2FsY3VsYXRpb25zOiAiIiwKICB0eXBlX29mX2dvb2RzOiAiIiwKICBzdGFydF9jaXR5OiAiIiwKICBlbmRfY2l0eTogIiIsCiAgLy8gLy8gbGFzdCAxMCB3ZWVrcwogIHN0YXJ0X3RpbWU6IGRlZmF1bHRTdGFydCwKICAvLyB0b2RheQogIGVuZF90aW1lOiBkZWZhdWx0RW5kCn07CmV4cG9ydCB2YXIgc2hpcG1lbnRzID0gewogIHN0YXRlOiB7CiAgICBzaGlwbWVudHM6IFtdLAogICAgZ3JvdXBlZDoge30sCiAgICBmaWx0ZXJlZEdyb3VwZWQ6IHt9LAogICAgY2FycmllckRhdGE6IHt9LAogICAgZmlsdGVyczogZGVmYXVsdEZpbHRlcnMKICB9LAogIGdldHRlcnM6IHsKICAgIGdldEdyb3VwZWQ6IGZ1bmN0aW9uIGdldEdyb3VwZWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmdyb3VwZWQ7CiAgICB9LAogICAgZ2V0Q2FycmllckRhdGE6IGZ1bmN0aW9uIGdldENhcnJpZXJEYXRhKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jYXJyaWVyRGF0YTsKICAgIH0gLy8gIGdldEZpbHRlcnMoc3RhdGUpIHsKICAgIC8vICAgIHJldHVybiBzdGF0ZS5maWx0ZXJzOwogICAgLy8gIH0sCgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRTaGlwbWVudHM6IGZ1bmN0aW9uIHNldFNoaXBtZW50cyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5zaGlwbWVudHMgPSBwYXlsb2FkOwogICAgfSwKICAgIHNldEdyb3VwZWQ6IGZ1bmN0aW9uIHNldEdyb3VwZWQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuZ3JvdXBlZCA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0RmlsdGVyZWRHcm91cGVkOiBmdW5jdGlvbiBzZXRGaWx0ZXJlZEdyb3VwZWQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuZmlsdGVyZWRHcm91cGVkID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXRDYXJyaWVyRGF0YTogZnVuY3Rpb24gc2V0Q2FycmllckRhdGEoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuY2FycmllckRhdGEgPSBwYXlsb2FkOwogICAgfSwKICAgIHNldEZpbHRlcnM6IGZ1bmN0aW9uIHNldEZpbHRlcnMoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuZmlsdGVycyA9IHBheWxvYWQ7CiAgICAgIHN0YXRlLmZpbHRlcmVkR3JvdXBlZCA9IF9maWx0ZXJHcm91cGVkKHN0YXRlLmdyb3VwZWQsIHBheWxvYWQpOwogICAgICBzdGF0ZS5jYXJyaWVyRGF0YSA9IF9wcmVwYXJlQ2FycmllckRhdGEoc3RhdGUuZmlsdGVyZWRHcm91cGVkKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGZldGNoU2hpcG1lbnRzOiBmdW5jdGlvbiBmZXRjaFNoaXBtZW50cyhfcmVmKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTsKICAgICAgZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvc2hpcG1lbnRzLyIpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICByZXR1cm4gcmVzcC5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBjb25zb2xlLmxvZygiZmV0Y2hlZDoiLCBkYXRhKTsKICAgICAgICBjb21taXQoInNldFNoaXBtZW50cyIsIGRhdGEpOwogICAgICAgIHJldHVybiBkYXRhOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7CiAgICAgICAgLy8gIGNvbnNvbGUubG9nKHN0YXRlLmZpbHRlcnMpOwogICAgICAgIC8vICBjb25zb2xlLmxvZyhfdXNlckZpbHRlcnMocmVzdWx0cywgc3RhdGUuZmlsdGVycykpOwogICAgICAgIHZhciBncm91cGVkID0gX2dyb3VwU2hpcG1lbnRzKHJlc3VsdHMsICJjYXJyaWVyX2NvbXBhbnlfaWQiKTsKCiAgICAgICAgdmFyIGZpbHRlcmVkR3JvdXBlZCA9IF9maWx0ZXJHcm91cGVkKGdyb3VwZWQsIHN0YXRlLmZpbHRlcnMpOyAvLyAgY29uc29sZS5sb2coIkdyb3VwZWQ6IiwgZ3JvdXBlZCk7CiAgICAgICAgLy8gIGNvbnNvbGUubG9nKCJmaWx0ZXJlZEdyb3VwZWQ6IiwgZmlsdGVyZWRHcm91cGVkKTsKCgogICAgICAgIGNvbW1pdCgic2V0R3JvdXBlZCIsIGdyb3VwZWQpOwogICAgICAgIGNvbW1pdCgic2V0RmlsdGVyZWRHcm91cGVkIiwgZmlsdGVyZWRHcm91cGVkKTsKICAgICAgICByZXR1cm4gZmlsdGVyZWRHcm91cGVkOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChncm91cGVkKSB7CiAgICAgICAgdmFyIGNhcnJpZXJEYXRhID0gX3ByZXBhcmVDYXJyaWVyRGF0YShncm91cGVkKTsgLy8gIGNvbnNvbGUubG9nKCJjYXJyaWVyRGF0YSIsIGNhcnJpZXJEYXRhKTsKCgogICAgICAgIGNvbW1pdCgic2V0Q2FycmllckRhdGEiLCBjYXJyaWVyRGF0YSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfTs="},{"version":3,"sources":["/home/rezan/Desktop/Projects/tracks/frontend/src/store/shipments.js"],"names":["_groupShipments","_filterGrouped","_prepareCarrierData","_defaultTimes","defaultStart","defaultEnd","defaultFilters","type_of_calculations","type_of_goods","start_city","end_city","start_time","end_time","shipments","state","grouped","filteredGrouped","carrierData","filters","getters","getGrouped","getCarrierData","mutations","setShipments","payload","setGrouped","setFilteredGrouped","setCarrierData","setFilters","actions","fetchShipments","commit","fetch","then","resp","json","data","console","log","results","modules"],"mappings":";AAAA,SACEA,eADF,EAEEC,cAFF,EAGEC,mBAHF,EAIEC,aAJF,QAKO,YALP;;qBAMmCA,aAAa,E;IAA1CC,Y,kBAAAA,Y;IAAcC,U,kBAAAA,U;;AACpB,IAAIC,cAAc,GAAG;AACnBC,EAAAA,oBAAoB,EAAE,EADH;AAEnBC,EAAAA,aAAa,EAAE,EAFI;AAGnBC,EAAAA,UAAU,EAAE,EAHO;AAInBC,EAAAA,QAAQ,EAAE,EAJS;AAKnB;AACAC,EAAAA,UAAU,EAAEP,YANO;AAOnB;AACAQ,EAAAA,QAAQ,EAAEP;AARS,CAArB;AAUA,OAAO,IAAMQ,SAAS,GAAG;AAChBC,EAAAA,KAAK,EAAE;AACLD,IAAAA,SAAS,EAAE,EADN;AAELE,IAAAA,OAAO,EAAE,EAFJ;AAGLC,IAAAA,eAAe,EAAE,EAHZ;AAILC,IAAAA,WAAW,EAAE,EAJR;AAKLC,IAAAA,OAAO,EAAEZ;AALJ,GADS;AAQhBa,EAAAA,OAAO,EAAE;AAEPC,IAAAA,UAFO,sBAEIN,KAFJ,EAEW;AAChB,aAAOA,KAAK,CAACC,OAAb;AACD,KAJM;AAKPM,IAAAA,cALO,0BAKQP,KALR,EAKe;AACpB,aAAOA,KAAK,CAACG,WAAb;AACD,KAPM,CAQR;AACA;AACA;;AAVQ,GARO;AAoBhBK,EAAAA,SAAS,EAAE;AACTC,IAAAA,YADS,wBACIT,KADJ,EACWU,OADX,EACoB;AAC3BV,MAAAA,KAAK,CAACD,SAAN,GAAkBW,OAAlB;AACD,KAHQ;AAITC,IAAAA,UAJS,sBAIEX,KAJF,EAISU,OAJT,EAIkB;AACzBV,MAAAA,KAAK,CAACC,OAAN,GAAgBS,OAAhB;AACD,KANQ;AAOTE,IAAAA,kBAPS,8BAOUZ,KAPV,EAOiBU,OAPjB,EAO0B;AACjCV,MAAAA,KAAK,CAACE,eAAN,GAAwBQ,OAAxB;AACD,KATQ;AAUTG,IAAAA,cAVS,0BAUMb,KAVN,EAUaU,OAVb,EAUsB;AAC7BV,MAAAA,KAAK,CAACG,WAAN,GAAoBO,OAApB;AACD,KAZQ;AAaTI,IAAAA,UAbS,sBAaEd,KAbF,EAaSU,OAbT,EAakB;AACzBV,MAAAA,KAAK,CAACI,OAAN,GAAgBM,OAAhB;AACAV,MAAAA,KAAK,CAACE,eAAN,GAAwBf,cAAc,CAACa,KAAK,CAACC,OAAP,EAAgBS,OAAhB,CAAtC;AACAV,MAAAA,KAAK,CAACG,WAAN,GAAoBf,mBAAmB,CAACY,KAAK,CAACE,eAAP,CAAvC;AACD;AAjBQ,GApBK;AAuChBa,EAAAA,OAAO,EAAE;AACPC,IAAAA,cADO,gCAC2B;AAAA,UAAjBC,MAAiB,QAAjBA,MAAiB;AAAA,UAATjB,KAAS,QAATA,KAAS;AAChCkB,MAAAA,KAAK,CAAC,sCAAD,CAAL,CACGC,IADH,CACQ,UAACC,IAAD;AAAA,eAAUA,IAAI,CAACC,IAAL,EAAV;AAAA,OADR,EAEGF,IAFH,CAEQ,UAACG,IAAD,EAAU;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,IAAxB;AACAL,QAAAA,MAAM,CAAC,cAAD,EAAiBK,IAAjB,CAAN;AACA,eAAOA,IAAP;AACD,OANH,EAOGH,IAPH,CAOQ,UAACM,OAAD,EAAa;AACjB;AACA;AACA,YAAIxB,OAAO,GAAGf,eAAe,CAACuC,OAAD,EAAU,oBAAV,CAA7B;;AACA,YAAIvB,eAAe,GAAGf,cAAc,CAACc,OAAD,EAAUD,KAAK,CAACI,OAAhB,CAApC,CAJiB,CAKjB;AACA;;;AACAa,QAAAA,MAAM,CAAC,YAAD,EAAehB,OAAf,CAAN;AACAgB,QAAAA,MAAM,CAAC,oBAAD,EAAuBf,eAAvB,CAAN;AACA,eAAOA,eAAP;AACD,OAjBH,EAkBGiB,IAlBH,CAkBQ,UAAClB,OAAD,EAAa;AACjB,YAAIE,WAAW,GAAGf,mBAAmB,CAACa,OAAD,CAArC,CADiB,CAEjB;;;AACAgB,QAAAA,MAAM,CAAC,gBAAD,EAAmBd,WAAnB,CAAN;AACD,OAtBH;AAuBD;AAzBM,GAvCO;AAkEhBuB,EAAAA,OAAO,EAAE;AAlEO,CAAlB","sourcesContent":["import {\n  _groupShipments,\n  _filterGrouped,\n  _prepareCarrierData,\n  _defaultTimes,\n} from \"../helpers\";\nlet { defaultStart, defaultEnd } = _defaultTimes();\nlet defaultFilters = {\n  type_of_calculations: \"\",\n  type_of_goods: \"\",\n  start_city: \"\",\n  end_city: \"\",\n  // // last 10 weeks\n  start_time: defaultStart,\n  // today\n  end_time: defaultEnd,\n};\nexport const shipments = {\n         state: {\n           shipments: [],\n           grouped: {},\n           filteredGrouped: {},\n           carrierData: {},\n           filters: defaultFilters,\n         },\n         getters: {\n       \n           getGrouped(state) {\n             return state.grouped;\n           },\n           getCarrierData(state) {\n             return state.carrierData;\n           },\n          //  getFilters(state) {\n          //    return state.filters;\n          //  },\n         },\n         mutations: {\n           setShipments(state, payload) {\n             state.shipments = payload;\n           },\n           setGrouped(state, payload) {\n             state.grouped = payload;\n           },\n           setFilteredGrouped(state, payload) {\n             state.filteredGrouped = payload;\n           },\n           setCarrierData(state, payload) {\n             state.carrierData = payload;\n           },\n           setFilters(state, payload) {\n             state.filters = payload;\n             state.filteredGrouped = _filterGrouped(state.grouped, payload);\n             state.carrierData = _prepareCarrierData(state.filteredGrouped);\n           },\n         },\n         actions: {\n           fetchShipments({ commit, state }) {\n             fetch(\"http://localhost:8000/api/shipments/\")\n               .then((resp) => resp.json())\n               .then((data) => {\n                 console.log(\"fetched:\", data);\n                 commit(\"setShipments\", data);\n                 return data;\n               })\n               .then((results) => {\n                 //  console.log(state.filters);\n                 //  console.log(_userFilters(results, state.filters));\n                 let grouped = _groupShipments(results, \"carrier_company_id\");\n                 let filteredGrouped = _filterGrouped(grouped, state.filters);\n                 //  console.log(\"Grouped:\", grouped);\n                 //  console.log(\"filteredGrouped:\", filteredGrouped);\n                 commit(\"setGrouped\", grouped);\n                 commit(\"setFilteredGrouped\", filteredGrouped);\n                 return filteredGrouped;\n               })\n               .then((grouped) => {\n                 let carrierData = _prepareCarrierData(grouped);\n                 //  console.log(\"carrierData\", carrierData);\n                 commit(\"setCarrierData\", carrierData);\n               });\n           },\n         },\n         modules: {},\n       };\n"]}]}